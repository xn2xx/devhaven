## 1. 后端实现（tmux 控制模式）

- [x] 1.1 新增 tmux 控制模式管理器（替换现有 PTY 实现）
- [x] 1.2 启动 `tmux -CC` 并维护控制客户端生命周期
- [x] 1.3 解析控制模式输出：命令块与通知事件
- [x] 1.4 `%output` 转义还原并按 pane-id 分发事件
- [x] 1.5 实现 tmux 命令封装（创建/切换/关闭 session）
- [x] 1.6 实现 pane/窗口操作命令（split/select/kill/new-window）
- [x] 1.7 实现 `refresh-client -C` 尺寸同步
- [x] 1.8 提供 `list-windows`/`list-panes` 用于布局同步
- [x] 1.9 实现 `capture-pane` 用于切换时恢复缓冲
- [x] 1.10 macOS 平台校验与错误提示（tmux 不可用）

## 2. 前端实现（pane 布局渲染）

- [x] 2.1 调整终端服务层，接入 tmux 命令与事件
- [x] 2.2 构建 pane 布局模型（基于 pane 几何信息）
- [x] 2.3 为每个 pane 创建独立 xterm 实例并渲染
- [x] 2.4 处理 pane focus 与输入路由
- [x] 2.5 切换窗口时重建 pane 布局
- [x] 2.6 进入开发模式时拉取窗口/布局状态

## 3. 快捷键与窗口管理

- [x] 3.1 实现分屏、窗口切换、pane 切换快捷键
- [ ] 3.2 确认快捷键不会与系统级快捷键冲突
- [x] 3.3 增加窗口列表 UI 常驻显示并支持点击切换

## 4. 会话恢复与外部终端协作

- [x] 4.1 确保项目 session 名称稳定可预测
- [x] 4.2 在 UI 中展示外部恢复命令（可复制）
- [x] 4.3 切换项目时通过 `capture-pane` 补齐历史输出

## 5. 集成验证（macOS）

- [ ] 5.1 分屏/窗口切换行为验证
- [ ] 5.2 vim/fzf/htop 全屏交互验证
- [ ] 5.3 外部终端 attach 恢复验证
