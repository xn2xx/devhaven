## Context

当前 CLI 会话列表通过前端高频轮询拉取，仍存在开始/结束感知延迟，并带来不必要的 IO 读取。

## Goals / Non-Goals

- Goals:
  - 会话文件变更后尽快刷新 UI
  - 降低轮询频率但保留兜底
  - 避免事件风暴导致频繁重算
- Non-Goals:
  - 不替换现有会话解析逻辑
  - 不引入跨进程状态存储

## Decisions

- 使用 `notify` 监听 ~/.codex/sessions（递归）并在事件触发后防抖推送
- 事件负载直接发送会话摘要列表，前端无需再二次请求
- 前端保留低频轮询（例如 5s）用于监听异常兜底

## Risks / Trade-offs

- 文件监听在不同平台可能存在误触发或丢失事件 → 通过轮询兜底
- 事件密集时会触发多次推送 → 防抖合并事件

## Migration Plan

- 启动时注册监听器
- 保持旧轮询逻辑，逐步下调频率

## Open Questions

- 是否需要在 UI 中标记“监听异常”状态
